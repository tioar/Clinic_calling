<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>é™³è¬é¾è¨ºæ‰€çœ‹è¨ºé€²åº¦</title>
<meta name="description" content="å³æ™‚çœ‹è¨ºé€²åº¦èˆ‡é–€è¨ºè³‡è¨Š">
<meta name="theme-color" content="#35579A">

<meta property="og:type" content="website">
<meta property="og:title" content="é™³è¬é¾è¨ºæ‰€ï½œçœ‹è¨ºé€²åº¦">
<meta property="og:description" content="å³æ™‚çœ‹è¨ºé€²åº¦èˆ‡é–€è¨ºè³‡è¨Šã€‚">
<meta property="og:image" content="og-cover.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:url" content="https://tioar.github.io/Clinic_calling/">
<meta property="og:locale" content="zh_TW">

<link rel="icon" type="image/png" href="icon.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">

<!-- æ–‡å­—ç”¨æ¥·é«”ï¼›ä¸­é–“è™Ÿç¢¼ç”¨æ•¸å­—å°ˆç”¨å­—ï¼ˆå¯åœ¨ä¸‹é¢ CSS è®Šæ•¸åˆ‡æ›ï¼‰ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<!-- è™Ÿç¢¼ç”¨ï¼šTeko / å‚™é¸ï¼šChivo Mono, Bebas Neueï¼ˆå¯åœ¨ CSS --digit-font åˆ‡æ›ï¼‰ -->
<link href="https://fonts.googleapis.com/css2?family=Teko:wght@500;600;700&family=Chivo+Mono:wght@600;700&family=Bebas+Neue&display=swap" rel="stylesheet">
<!-- æ¥·é«”å‚™æ´ -->
<link href="https://fonts.googleapis.com/css2?family=LXGW+WenKai+TC:wght@400;500;700&display=swap" rel="stylesheet">

<style>
  :root{
    /* Pantone è—ç³» */
    --primary:#35579A;         /* Classic Blue */
    --provence:#6B86C3;        /* Provence (åæ·ºè—) */
    --soft:#A5B8D0;            /* æŸ”è—ï¼ˆå¤–æ¡†ã€ç´°ç·šï¼‰ */
    --light:#EAF1FF;           /* å¾ˆæ·ºçš„è—ï¼ˆåº•è‰²ï¼‰ */
    --beige:#D8C0AD;           /* å¡å…¶è‰²ï¼ˆæ ¸å–æ–¹å¡Šï¼‰ */
    --accent:#6db337;          /* å°ç¶ é»ï¼ˆä¿ç•™ï¼‰ */
    --digit-red:#B91C1C;       /* è™Ÿç¢¼ç´… */
    --pill-red:#E53935;        /* ä¼‘è¨º */
    --pill-coral:#F37163;      /* åœæ­¢æ›è™Ÿ */

    /* ä¸»è¦å­—å‹ï¼ˆæ¥·é«”ï¼‰ï¼›æ•¸å­—å­—å‹å¯åœ¨é€™æ”¹ */
    --text-font: "TW-Kai","CwTeXKai","LXGW WenKai TC","DFKai-SB","KaiTi","BiauKai","Microsoft JhengHei",serif;
    --digit-font: "Teko","Chivo Mono","Bebas Neue",system-ui,Arial,Helvetica,sans-serif;
  }

  *{ box-sizing:border-box; }
  body{
    font-family:var(--text-font);
    -webkit-font-smoothing:antialiased;
    background:#ffffff;
    margin:0;
    padding:clamp(16px,4vw,40px);
    display:flex; justify-content:center; color:#1c1c1c;
  }
  .container{
    position:relative;
    width:min(920px,96vw);
    background:#fff;
    border:1.5px solid var(--soft); /* æ›´æ·¡æ›´ç´°çš„å¤–æ¡† */
    padding:clamp(16px,4vw,32px);
    text-align:center;
    box-shadow:0 6px 22px rgba(53,87,154,0.06);
  }

  /* è·‘é¦¬ç‡ˆï¼šæ”¹æˆåŒã€Œæ·ºè—ã€ä¸”å­—æ›´å¤§ */
  .marquee{
    --gap: 2rem; --speed: 45s;
    background:var(--light); color:#143a87;
    padding:12px 0; margin:0 auto 14px;
    overflow:hidden; white-space:nowrap; user-select:none;
    font-size:clamp(15px,2.2vw,18px); font-weight:700;
  }
  .marquee__track{ display:inline-flex; align-items:center; width:max-content; animation:marquee-loop var(--speed) linear infinite; }
  .marquee__track > span{ padding-right:var(--gap); flex-shrink:0; }
  .marquee:hover .marquee__track{ animation-play-state:paused; }
  @keyframes marquee-loop{ from{transform:translateX(0)} to{transform:translateX(-50%)} }

  .logo-wrap{ margin:10px 0 4px; }
  .logo{
    height:clamp(120px,22vw,200px);
    max-width:82vw; object-fit:contain;
    background:transparent; /* âœ… èˆ‡ç™½åº•èåˆ */
    border:none; box-shadow:none;
    display:block; margin:0 auto;
  }

  .pill-wrap{ display:flex; justify-content:center; margin:10px 0 6px; min-height:0; }
  /* é•·æ¢å…­é‚Šå½¢è† å›Š */
  .hex{
    display:inline-block; padding:.55rem 1.4rem;
    color:#fff; font-weight:800; letter-spacing:.5px;
    clip-path:polygon(12px 0, calc(100% - 12px) 0, 100% 50%, calc(100% - 12px) 100%, 12px 100%, 0 50%);
    box-shadow:0 6px 16px rgba(0,0,0,.12);
    user-select:none;
  }
  .hex.red{   background:var(--pill-red);}
  .hex.coral{ background:var(--pill-coral);}

  .title-row{ display:flex; align-items:center; justify-content:center; gap:12px; margin:12px 0 4px; flex-wrap:wrap; }
  .title-row h1{
    margin:0; color:#1f2f63;
    font-size:clamp(28px,4.5vw,40px); /* âœ… æ¯”æœˆä»½æ›´å¤§ */
    letter-spacing:.7px; font-weight:800;
  }

  .now-time{ color:#35579A; font-weight:800; margin-bottom:16px; }

  /* è™Ÿç¢¼é¡¯ç¤ºï¼šå»å¤–æ¡†ï¼Œç”¨æ·ºè—åº•ä¸”ã€Œè²¼ã€å…§å®¹å¯¬åº¦ */
  .number-box{
    display:inline-block;
    background:var(--light);
    padding:.35em .55em;
    margin:6px auto 10px;
  }
  .number{
    font-family:var(--digit-font);
    font-size:clamp(86px,15vw,190px);
    line-height:1; color:var(--digit-red);
    letter-spacing:.04em; font-weight:700;
  }
  @keyframes pop {
    0%{ transform:scale(.96); opacity:.85 }
    100%{ transform:scale(1); opacity:1 }
  }
  .pop{ animation:pop .28s ease-out }

  /* èªéŸ³é–‹é—œï¼šæ”¹ç›´è§’æ ¸å–æ–¹å¡Š + ğŸ””/ğŸ”• */
  .voice-row{
    display:flex; align-items:center; justify-content:center;
    gap:12px; margin:10px 0 16px; flex-wrap:nowrap;
  }
  .voice-label{
    font-weight:900; color:#3b2e1e; letter-spacing:.5px;
    font-size:clamp(16px,3vw,20px);
  }
  .chk{
    width:22px; height:22px; margin:0;
    accent-color:var(--beige); /* âœ… å¡å…¶è‰² */
    appearance:auto; cursor:pointer;
  }
  .bell{ font-size:22px; line-height:1; }

  .note{
    background:#F2F6FB; padding:16px 20px; border:none;
    border-radius:0; margin:14px auto 10px; color:#274a6b;
    font-weight:700; width:min(760px,100%); text-align:center;
  }
  .note p{ margin:.35em 0; }

  .palette{ height:8px; margin:8px auto 14px; width:min(560px,90%); background:linear-gradient(to right,#D8C0AD 0 22%,#6db337 22% 45%,#35579A 45% 82%,#A5B8D0 82% 100%); }
  .schedule{ margin-top:6px; max-width:100%; border:none; box-shadow:none; } /* âœ… å»å¤–æ¡† */

  /* ç„¡éšœç¤™ï¼šåƒ…çµ¦è¢å¹•é–±è®€å™¨çš„æç¤ºå€åŸŸ */
  .sr-only{
    position:absolute !important; width:1px; height:1px;
    padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
    border:0; white-space:nowrap;
  }
</style>
</head>

<body>
  <div class="container">
    <!-- è·‘é¦¬ç‡ˆ -->
    <div class="marquee" aria-label="è¨ºæ‰€è¨Šæ¯è·‘é¦¬ç‡ˆ">
      <div class="marquee__track" id="marqueeTrack">
        <span>âœ¦ é™³è¬é¾è¨ºæ‰€é–€è¨ºæ™‚é–“ï¼šâ˜€ï¸ æ—©è¨º 08:30â€“11:30ï¼ˆæœ€æ™šå ±åˆ°10:30ï¼‰ï¼›â˜ï¸ åˆè¨º 14:00â€“17:00ï¼ˆæœ€æ™šå ±åˆ°16:00ï¼‰ï¼›â˜¾ æ™šè¨º 18:00â€“20:30ï¼ˆæœ€æ™šå ±åˆ°20:00ï¼‰ã€‚é€¾æ™‚è¦–åŒæ”¾æ£„ï¼Œåé¡å°‡é‡‹å‡ºçµ¦ç¾å ´æ›è™Ÿã€‚</span>
        <span aria-hidden="true">âœ¦ é™³è¬é¾è¨ºæ‰€é–€è¨ºæ™‚é–“ï¼šâ˜€ï¸ æ—©è¨º 08:30â€“11:30ï¼ˆæœ€æ™šå ±åˆ°10:30ï¼‰ï¼›â˜ï¸ åˆè¨º 14:00â€“17:00ï¼ˆæœ€æ™šå ±åˆ°16:00ï¼‰ï¼›â˜¾ æ™šè¨º 18:00â€“20:30ï¼ˆæœ€æ™šå ±åˆ°20:00ï¼‰ã€‚é€¾æ™‚è¦–åŒæ”¾æ£„ï¼Œåé¡å°‡é‡‹å‡ºçµ¦ç¾å ´æ›è™Ÿã€‚</span>
      </div>
    </div>

    <div class="logo-wrap">
      <img class="logo" id="clinicLogo" src="./logo1.jpg" alt="é™³è¬é¾è¨ºæ‰€ LOGO">
    </div>

    <!-- ç‹€æ…‹å…­é‚Šå½¢ -->
    <div class="pill-wrap" aria-live="polite" id="statusPill"></div>

    <div class="title-row"><h1 id="sectionTitle">ç›®å‰çœ‹è¨ºè™Ÿç¢¼</h1></div>
    <div class="now-time" id="twTime">â€”</div>

    <!-- è™Ÿç¢¼é¡¯ç¤ºï¼šå–®ä¸€å¤§æ¡† -->
    <div class="number-box"><div id="bigNumber" class="number">000</div></div>

    <!-- èªéŸ³é–‹é—œï¼ˆæ ¸å–æ–¹å¡Š + ğŸ””/ğŸ”•ï¼‰ -->
    <div class="voice-row">
      <label class="voice-label" for="voiceToggle">é–‹å•ŸèªéŸ³å«è™Ÿæé†’</label>
      <input type="checkbox" id="voiceToggle" class="chk" aria-checked="false" aria-labelledby="voiceToggle"/>
      <span id="bell" class="bell" aria-hidden="true">ğŸ”•</span>
      <div id="voiceHint" class="sr-only">å‹¾é¸å¾Œï¼Œè™Ÿç¢¼è®Šæ›´æ™‚æœƒè‡ªå‹•èªéŸ³æ’­å ±ã€‚</div>
    </div>

    <!-- çµ¦è®€å±çš„å³æ™‚ç‹€æ…‹æç¤º -->
    <div id="srStatus" class="sr-only" aria-live="polite"></div>

    <div class="note">
      <p>â™¦ï¸ é›²ç«¯è™Ÿç¢¼åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›å«è™Ÿä»¥ç¾å ´ç‚ºæº–ã€‚æ¯ä½ç—…æ‚£ç´„ 3â€“5 åˆ†é˜ï¼Œè«‹æå‰åˆ°å ´åœ¨å¯çœ‹åˆ°ç‡ˆè™Ÿçš„ä½ç½®ç­‰å€™ä»¥å…éè™Ÿã€‚</p>
      <p>â™¦ï¸ è‹¥å·²éè™Ÿè«‹å†æ¬¡å‘æ«ƒæª¯å ±åˆ°ï¼Œå°‡ä¾ç¾å ´ç‹€æ³èª¿æ•´å®‰æ’ã€‚é–€è¨ºå¯èƒ½è¦–ç¾å ´ç‹€æ³æå‰åœæ­¢æ›è™Ÿï¼Œå¦‚æœ‰ç–‘å•è«‹ä¾†é›» (03)515-2971ã€‚</p>
    </div>

    <div class="palette" aria-hidden="true"></div>
    <img class="schedule" id="scheduleImg" src="./schedule.png" alt="é–€è¨ºæ™‚é–“è¡¨">
  </div>

  <script>
    /* è·‘é¦¬ç‡ˆæš«åœ/æ¢å¾© */
    (function(){
      const marquee = document.querySelector('.marquee');
      const track = document.getElementById('marqueeTrack');
      const pause = () => track.style.animationPlayState = 'paused';
      const run   = () => track.style.animationPlayState = 'running';
      marquee.addEventListener('pointerdown', pause);
      marquee.addEventListener('pointerup', run);
      marquee.addEventListener('pointerleave', run);
      marquee.addEventListener('pointercancel', run);
    })();

    /* åœ–ç‰‡å‚™æ´ */
    (function(){
      const logo = document.getElementById('clinicLogo');
      const logoFallbacks = [
        './logo.png',
        'https://raw.githubusercontent.com/tioar/Clinic_calling/main/logo1.jpg',
        'https://raw.githubusercontent.com/tioar/Clinic_calling/main/logo.png'
      ];
      let li=0; logo.onerror = function(){ if(li<logoFallbacks.length){ this.src=logoFallbacks[li++]; } else { this.style.display='none'; } };

      const sch = document.getElementById('scheduleImg');
      const schFallbacks = ['https://raw.githubusercontent.com/tioar/Clinic_calling/main/schedule.png'];
      let si=0; sch.onerror = function(){ if(si<schFallbacks.length){ this.src=schFallbacks[si++]; } else { this.style.display='none'; } };
    })();

    let lastNumber='000';

    /* æŠ“è™Ÿè¨­å®š */
    const POLL_MS = 1500;
    const FETCH_TIMEOUT = 1200;
    const GAS_URL = "https://script.google.com/macros/s/AKfycbxHI3ypQqfqnEpXVDO6WJq0EQjkMWzjpIvosYGwu43MP9iiXjofRnZOzOnhAXedwCLw/exec";

    /* ===== èªéŸ³è¨­å®šï¼ˆèˆ‡åŸæœ¬ä¸€è‡´ï¼‰ ===== */
    const TTS_RATE = 0.55;
    const UA = navigator.userAgent.toLowerCase();
    const isWinChrome = UA.includes('windows') && UA.includes('chrome') && !UA.includes('edg');
    const WARM_CANCEL_DELAY = isWinChrome ? 220 : 120;
    const WARM_PLAY_DELAY   = isWinChrome ? 100 : 60;
    const WARM_SAFETY_MS    = isWinChrome ? 800 : 650;

    const Voice = { ready:false, unlocked:false, voices:[], zhVoice:null, enabled:false, timer:null };
    function loadVoices(){
      const list = window.speechSynthesis?.getVoices?.() || [];
      Voice.voices = list;
      Voice.zhVoice =
        list.find(v => v.lang?.toLowerCase().startsWith('zh-tw')) ||
        list.find(v => v.lang?.toLowerCase().startsWith('zh-hk')) ||
        list.find(v => v.lang?.toLowerCase().startsWith('zh-cn')) ||
        list.find(v => v.lang?.toLowerCase().startsWith('zh'));
    }
    function unlockTTS(){
      if(!('speechSynthesis' in window)){ alert('æ­¤ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³æ’­å ±'); return false; }
      loadVoices();
      if(typeof speechSynthesis.onvoiceschanged !== 'undefined'){
        speechSynthesis.onvoiceschanged = () => loadVoices();
      }
      try{ speechSynthesis.resume(); }catch(e){}
      Voice.unlocked = true; Voice.ready = true; return true;
    }
    function speakText(txt){
      if(!Voice.ready || !txt) return;
      if (!Voice.enabled && !speakText._oneshot) return;
      if (Voice.timer){ clearTimeout(Voice.timer); Voice.timer = null; }
      const play = () => {
        const warm = new SpeechSynthesisUtterance('\u00A0'); // ç„¡è²æš–æ©Ÿ
        warm.lang = (Voice.zhVoice && Voice.zhVoice.lang) || 'zh-TW';
        warm.rate = TTS_RATE; warm.pitch = 1; warm.volume = 0;

        const safety = setTimeout(() => {
          try{ speechSynthesis.cancel(); }catch(e){}
          reallySpeak(txt);
        }, WARM_SAFETY_MS);

        warm.onend = () => {
          clearTimeout(safety);
          setTimeout(() => reallySpeak(txt), WARM_PLAY_DELAY);
        };

        try{ speechSynthesis.resume(); }catch(e){}
        speechSynthesis.speak(warm);
      };

      if (speechSynthesis.speaking || speechSynthesis.pending){
        try{ speechSynthesis.cancel(); }catch(e){}
        setTimeout(play, WARM_CANCEL_DELAY);
      } else {
        setTimeout(play, WARM_PLAY_DELAY);
      }
    }
    function reallySpeak(txt){
      const safeTail = String(txt).replace(/[~ï½]+$/g,'ã€‚');
      const prefix = isWinChrome ? '\u3000ï¼Œ' : '';
      const u = new SpeechSynthesisUtterance(prefix + safeTail);
      if(!Voice.zhVoice || !Voice.voices.length) loadVoices();
      if(Voice.zhVoice) u.voice = Voice.zhVoice;
      u.lang = (Voice.zhVoice && Voice.zhVoice.lang) || 'zh-TW';
      u.rate = TTS_RATE;  u.pitch = 1;  u.volume = 1;
      u.onstart = ()=>{ try{ speechSynthesis.resume(); }catch(e){} };
      speechSynthesis.speak(u);
    }
    function zhRead(n){
      n = Math.max(0, Math.min(999, Math.floor(n)));
      const d = ['é›¶','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹'];
      if (n === 0) return 'é›¶';
      let out = '', h = Math.floor(n/100), t = Math.floor((n%100)/10), u = n%10;
      if(h>0){ out += d[h]+'ç™¾'; if(t===0 && u>0) out+='é›¶'; }
      if(t>0){ out += (t===1 && h===0 ? '' : d[t]) + 'å'; }
      if(u>0){ out += d[u]; }
      return out;
    }
    function speakNumber(n){
      const zh = zhRead(n);
      speakText(`${zh}è™Ÿã€${zh}è™Ÿè«‹é€²è¨ºé–“ã€‚`);
    }

    // ç„¡éšœç¤™è®€å±æç¤º
    const srStatus = document.getElementById('srStatus');
    function sayToSR(text){ srStatus.textContent = text; }

    // èªéŸ³æ ¸å–æ–¹å¡Š
    const voiceToggle = document.getElementById('voiceToggle');
    const bell = document.getElementById('bell');
    voiceToggle.addEventListener('change', ()=>{
      voiceToggle.setAttribute('aria-checked', voiceToggle.checked ? 'true' : 'false');
      bell.textContent = voiceToggle.checked ? 'ğŸ””' : 'ğŸ”•';
      if(voiceToggle.checked){
        if(!Voice.unlocked && !unlockTTS()){ voiceToggle.checked=false; voiceToggle.setAttribute('aria-checked','false'); bell.textContent='ğŸ”•'; return; }
        Voice.enabled = true;
        speakText._oneshot = true;
        speakText('å·²é–‹å•ŸèªéŸ³å«è™Ÿæé†’ã€‚');
        speakText._oneshot = false;
        sayToSR('å·²é–‹å•ŸèªéŸ³å«è™Ÿæé†’');
      }else{
        Voice.enabled = false;
        try{ speechSynthesis.cancel(); }catch(e){}
        sayToSR('å·²é—œé–‰èªéŸ³å«è™Ÿæé†’');
      }
    });
    window.addEventListener('touchend', function once(){
      if(!Voice.unlocked){ unlockTTS(); }
      window.removeEventListener('touchend', once, true);
    }, true);
    document.addEventListener('visibilitychange', ()=>{
      if(document.visibilityState === 'visible'){
        try{ speechSynthesis.resume(); }catch(e){}
      }
    });

    /* ===== æŠ“è™Ÿï¼šå…ˆ fetchï¼Œå¤±æ•—å† JSONP å¾Œå‚™ ===== */
    async function fetchJSON() {
      const ctrl = new AbortController();
      const t = setTimeout(()=>ctrl.abort(), FETCH_TIMEOUT);
      const res = await fetch(`${GAS_URL}?ts=${Date.now()}`, { cache:'no-store', signal: ctrl.signal });
      clearTimeout(t);
      if(!res.ok) throw new Error(res.statusText);
      return res.json();
    }
    function fetchJSONP() {
      return new Promise((resolve, reject) => {
        const cbName = 'onClinicData_' + Date.now() + '_' + Math.floor(Math.random()*1e6);
        const s = document.createElement('script');
        const timeout = setTimeout(() => { cleanup(); reject(new Error('JSONP timeout')); }, 5000);
        window[cbName] = (data) => { cleanup(); resolve(data); };
        function cleanup(){ clearTimeout(timeout); delete window[cbName]; s.remove(); }
        s.src = `${GAS_URL}?callback=${cbName}&ts=${Date.now()}`;
        s.onerror = () => { cleanup(); reject(new Error('JSONP load error')); };
        document.head.appendChild(s);
      });
    }

    function renderStatusPill(data){
      const box = document.getElementById('statusPill');
      box.innerHTML = '';
      if (data.holiday === true){
        const el = document.createElement('div');
        el.className = 'hex red';
        el.textContent = 'ç¾åœ¨æ™‚é–“æ²’æœ‰é–€è¨ºï¼Œä¼‘è¨ºä¸­';
        box.appendChild(el);
      } else if (data.closed === true){
        const el = document.createElement('div');
        el.className = 'hex coral';
        el.textContent = 'ç•¶å‰æ™‚æ®µå·²åœæ­¢æ›è™Ÿ';
        box.appendChild(el);
      }
    }

    function animateNumberText(text){
      const el = document.getElementById('bigNumber');
      el.textContent = text;
      el.classList.remove('pop');
      void el.offsetWidth; // reflow
      el.classList.add('pop');
    }

    async function fetchNumber(){
      try{
        const data = await fetchJSON().catch(async () => await fetchJSONP());
        renderStatusPill(data);
        const n = Number(data.number);
        if (!Number.isFinite(n) || n < 0 || n >= 1000) return;
        const current = String(n).padStart(3,'0');
        if(current !== lastNumber){
          animateNumberText(current);
          document.getElementById('srStatus').textContent = `ç›®å‰çœ‹è¨ºè™Ÿç¢¼ï¼š${current}`;
          if (Voice.enabled) speakNumber(n);
          lastNumber = current;
        }
      }catch(err){
        // console.warn('æŠ“è™Ÿå¤±æ•—ï¼š', err?.message || err);
      }
    }

    const pad2 = n => String(n).padStart(2,'0');
    function updateTWTime(){
      const el=document.getElementById('twTime');
      const now = new Date();
      const tw = new Date(now.toLocaleString('en-US', { timeZone:'Asia/Taipei' }));
      const wMap = ['æ—¥','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­'];
      el.textContent = `${tw.getFullYear()}/${pad2(tw.getMonth()+1)}/${pad2(tw.getDate())} (${wMap[tw.getDay()]}) `+
                       `${pad2(tw.getHours())}:${pad2(tw.getMinutes())}:${pad2(tw.getSeconds())}`;
    }

    // å•Ÿå‹•
    fetchNumber(); setInterval(fetchNumber, POLL_MS);
    updateTWTime(); setInterval(updateTWTime, 1000);
  </script>
</body>
</html>
